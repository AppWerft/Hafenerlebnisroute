var Map=require("ti.map"),Polygon=require("vendor/geopolygon");module.exports=function(e){var t=(arguments[0]||{},Ti.UI.createWindow({backgroundColor:"white"}));t.map=Map.createView({userLocation:!0,region:{latitude:53.51,longitude:9.95,longitudeDelta:.1,latitudeDelta:.1},enableZoomControls:!1,mapType:Map.TERRAIN_TYPE});var i=Map.createRoute({points:e.route.map(function(e){return{latitude:e[0],longitude:e[1]}}),color:"#aa092B55",width:10});return t.addEventListener("open",function(n){t.add(t.map),t.add(t.compass),t.map.addRoute(i);var a=require("com.alcoapps.actionbarextras");a.setTitle("Hafenerlebnistour"),a.setSubtitle(e.title),a.setBackgroundColor("#f00"),a.subtitleColor="#ccc";var r=n.source.getActivity();r&&(r.actionBar.displayHomeAsUp=!0,r.actionBar.onHomeIconItemSelected=function(){n.source.close()})}),t.addEventListener("close",function(){t.compass.stop(),t.compass=null}),t.compass=require("ui/compass").createView(e.route),t.compass&&t.compass.start(),t};