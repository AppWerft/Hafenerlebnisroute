var getFromCache=function(e,t){var i=Ti.Filesystem.getFile(Ti.Filesystem.applicationDataDirectory,Ti.Utils.md5HexDigest(e)+".pdf");if(i.exists())console.log("Info:  pdf was alreadystored => displaying"),t({path:i,file:Ti.Utils.md5HexDigest(e)});else{var n=Ti.Network.createHTTPClient({onload:function(){i.write(this.responseData),t({path:i,file:Ti.Utils.md5HexDigest(e)})},onerror:function(e){console.log(e.error)},ondatastream:function(){}});n.open("GET",e),n.send(null)}};module.exports=function(){var e=arguments[0]||{},t=Ti.UI.createWindow({orientationModes:[Ti.UI.LANDSCAPE_LEFT,Ti.UI.LANDSCAPE_RIGHT]});if(t.backgroundColor="white",Ti.Android){var i=require("com.mykingdom.mupdf");getFromCache(e.pdf,function(e){var n=i.createView({file:e.path});n.setScrollingDirection(i.DIRECTION_HORIZONTAL),t.add(n)})}else{var n=Ti.UI.createWebView({url:e.pdf,borderRadius:1});t.container.add(n)}return t.addEventListener("open",function(t){var i=require("com.alcoapps.actionbarextras");i.setTitle("Hadag"),i.setSubtitle("Linie"+e.line),i.setBackgroundColor("#777"),i.subtitleColor="#ccc";var n=t.source.getActivity();n&&(n.actionBar.displayHomeAsUp=!0,n.actionBar.onHomeIconItemSelected=function(){t.source.close()})}),t};