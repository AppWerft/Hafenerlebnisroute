var Promise=require("org.favo.promise"),GOOGLEAPIKEY=Ti.App.Properties.getString("GOOGLEAPIKEY");const ENDPOINT="https://www.googleapis.com/youtube/v3/";var _getPlaylistsByChannelId=function(e){function t(e){var t=JSON.parse(e),i=t.items.map(function(e){return{title:e.snippet.title,data:e.id}});n.resolve(i)}function i(e){n.reject(e)}var n=Promise.defer(),a=Ti.Network.createHTTPClient({onload:t,onerror:i}),r=ENDPOINT+"playlists?maxResults=50&part=snippet%2CcontentDetails&channelId="+e+"&key="+GOOGLEAPIKEY;return console.log(r),a.open("GET",r),a.send(),n},_getVideosByplaylistId=function(){function e(e){(i||i!=e.etag)&&a.resolve(e.items.map(function(e){return{image:e.snippet.thumbnails.default.url.replace(/default/,"hqdefault"),title:e.snippet.title.replace(/^[\s]+/g,""),pubdate:e.snippet.publishedAt,id:e.snippet.resourceId.videoId,description:e.snippet.description.split("\n")[0]}}))}function t(e){a.reject(e)}var i,n=arguments[0]||{},a=Promise.defer();n["default"]&&(i=n["default"].etag,e(n["default"]));var r=Ti.Network.createHTTPClient({onload:function(){e(JSON.parse(this.responseText))},onerror:t}),d=ENDPOINT+"playlistItems?&maxResults=50&part=snippet%2&playlistId="+n.id+"&key="+GOOGLEAPIKEY;return r.open("GET",d),r.setRequestHeader("Accept-Encoding","gzip"),r.setRequestHeader("User-Agent","Titanium engine (gzip)"),r.send(),a},_getUrlById=function(){var e=Promise.defer();return e};exports.getPlaylistsByChannelId=_getPlaylistsByChannelId,exports.getVideosByplaylistId=_getVideosByplaylistId,exports.getUrlById=_getUrlById;